'use strict';

const uuid = require('uuid');

module.exports = {
  async up(queryInterface, Sequelize) {
    await module.exports.down(queryInterface, Sequelize);

    return queryInterface.bulkInsert('areas', [
      {
        id: uuid(),
        name: 'Los Angeles, California, United States',
        shortName: 'Los Angeles',
        polygon: Sequelize.fn('ST_GeomFromText', 'POLYGON((-117.6687 34.8204, -117.6468 34.2892, -117.7289 34.0208, -117.7673 34.0263, -117.8056 33.9770, -117.7837 33.9441, -117.9754 33.9441, -117.9754 33.9003, -118.0575 33.8455, -118.1178 33.7415, -118.1835 33.7634, -118.1835 33.7196, -118.2602 33.7031, -118.4135 33.7415, -118.4300 33.7743, -118.3916 33.8401, -118.4628 33.9715, -118.5450 34.0372, -118.7476 34.0318, -118.8024 33.9989, -118.9448 34.0427, -118.9393 34.0756, -118.7860 34.1687, -118.6655 34.1687, -118.6655 34.2399, -118.6326 34.2399, -118.8846 34.7931, -118.8955 34.8204, -117.6687 34.8204))'),
        center: Sequelize.fn('ST_GeomFromText', 'POINT(-118.243683 34.052235)'),
        phone: '+14157993599',
        countryCode: '1',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuid(),
        name: 'Tel Aviv-Yafo, Gush Dan, Israel',
        shortName: 'Tel Aviv',
        polygon: Sequelize.fn('ST_GeomFromText', 'POLYGON((34.7329194 32.003664, 34.7424399 32.0331439, 34.7390737 32.0424201, 34.7464009 32.0497079, 34.7498806 32.056689, 34.7560056 32.0588536, 34.7690819 32.0964566, 34.7676643 32.0983192, 34.7721739 32.1092915, 34.7767846 32.1114356, 34.79187 32.1544839, 34.7890493 32.1595965, 34.7911106 32.1659946, 34.7952692 32.1676476, 34.7989216 32.1768305, 34.8047799 32.1971826, 34.8112592 32.1984411, 34.8239015 32.1930935, 34.836929 32.1914252, 34.8479143 32.1812201, 34.8569844 32.1777622, 34.8569855 32.1726949, 34.8643974 32.17102, 34.8604079 32.1535917, 34.8550028 32.1484203, 34.8550409 32.1442821, 34.8599945 32.1364823, 34.8671917 32.1198543, 34.862203 32.1137073, 34.8507399 32.1133959, 34.8458341 32.0942574, 34.8458254 32.0853015, 34.8435246 32.0735899, 34.8450783 32.0655246, 34.8603081 32.0682409, 34.8677073 32.0710479, 34.8657727 32.0464707, 34.8688081 32.0332727, 34.8760055 32.0215076, 34.8608805 32.0197606, 34.8492516 32.0224422, 34.8473259 32.0196274, 34.827379 32.026806, 34.8119285 32.0069335, 34.8073162 31.9942738, 34.7997728 31.9958917, 34.796494 31.9886868, 34.7794486 31.9909358, 34.7649942 31.9967124, 34.7581435 31.9926877, 34.7448386 31.9974965, 34.7329194 32.003664))'),
        center: Sequelize.fn('ST_GeomFromText', 'POINT(34.7818 32.0853)'),
        phone: '+14157993599',
        countryCode: '972',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    ]);
  },

  async down(queryInterface) {
    try {
      await queryInterface.describeTable('areas');
    }
    catch (e) {
      //First time migration
      return;
    }

    return queryInterface.bulkDelete('areas', null);
  },
};
